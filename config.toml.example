# KeyVox Configuration
# Copy to config.toml and customize, or run: keyvox --setup

[model]
# Backend: "auto" (detect best), "faster-whisper" (NVIDIA only), "qwen-asr" (universal)
backend = "auto"
# Model name depends on backend:
#   faster-whisper: tiny, base, small, medium, large-v3, large-v3-turbo
#   qwen-asr: Qwen/Qwen3-ASR-0.6B, Qwen/Qwen3-ASR-1.7B
name = "large-v3-turbo"
# Device: cuda or cpu
device = "cuda"
# Compute type:
#   faster-whisper: float16 (GPU), int8 (CPU), float32
#   qwen-asr: bfloat16 (recommended), float16, float32
compute_type = "float16"

[audio]
# Microphone: "default" or device index (run keyvox --setup to list)
input_device = "default"
# Sample rate in Hz
sample_rate = 16000

[hotkey]
# Push-to-talk key: ctrl_r, ctrl_l, alt_r, alt_l, shift_r, etc.
push_to_talk = "ctrl_r"

[paths]
# Model cache directory (empty = default HuggingFace cache)
model_cache = ""

[output]
# Auto-paste transcription into active window
auto_paste = true

# Paste method: how to insert transcribed text
# - "type": Simulate typing (NO clipboard interaction, recommended)
#   → Clean: your clipboard stays untouched
#   → Works in 95%+ of apps (browsers, editors, Slack, Discord, etc.)
#   → May not work in some games or admin-level secure inputs
#
# - "clipboard": Paste via Ctrl+V (uses clipboard, simple)
#   → Text goes to clipboard, then pasted
#   → Your clipboard will fill with transcriptions
#   → Works everywhere Ctrl+V works
#
# - "clipboard-restore": Paste via Ctrl+V, then restore old clipboard
#   → Text briefly uses clipboard, then restores previous content
#   → Clipboard managers will log both the transcription AND restored value (creates duplicates)
#   → Use if "type" doesn't work in specific apps
paste_method = "type"

# Double-tap to clipboard: tap hotkey twice quickly to copy last transcription
# - Only works when paste_method = "type" (other methods already use clipboard)
# - Useful when you want to paste the same transcription multiple times
# - Or when you need to copy it somewhere else manually
double_tap_to_clipboard = true

# Double-tap timeout: maximum time between taps (in seconds)
# - 0.5s = comfortable for most users
# - Decrease for faster double-tap detection (e.g., 0.3)
# - Increase if you accidentally trigger double-taps (e.g., 0.7)
double_tap_timeout = 0.5

# Dictionary: Post-transcription word corrections
# - Case-insensitive matching with word boundaries
# - Example: "github" → "GitHub", "whatsapp" → "WhatsApp"
# - Useful for brand names, technical terms, product names
# - Hot-reloaded at runtime (applies on next hotkey release)
# - Empty by default; add entries below to enable corrections
#
# Common use cases:
# - Brand names: github → GitHub, reactjs → ReactJS
# - Product names: whatsapp → WhatsApp, slack → Slack
# - Technical terms: gpu → GPU, cpu → CPU, llm → LLM
# - Acronyms: api → API, sdk → SDK
#
# Performance: <1ms per transcription, no user-visible impact
[dictionary]
# Example corrections (uncomment to enable):
# github = "GitHub"
# reactjs = "ReactJS"
# nodejs = "Node.js"
# whatsapp = "WhatsApp"
# slack = "Slack"
# telegram = "Telegram"
# gpu = "GPU"
# cpu = "CPU"
# llm = "LLM"
# api = "API"

[text_insertion]
# Enable smart post-processing of transcribed text
# Hot-reloaded at runtime (applies on next hotkey release)
enabled = true

# Auto-capitalize at document start and after sentence endings
smart_capitalization = true

# Auto-add leading/trailing spacing based on context
smart_spacing = true

# Normalize detected URLs/domains:
# - normalizes domain casing (Google.com -> google.com)
# - lowercases domain names
normalize_urls = true

# Optional trailing space after sentence-ending punctuation
add_trailing_space = false

# Context analysis settings
context_max_chars = 100
sentence_enders = ".!?"
punctuation_starters = ",.!?:;'\")}]"
